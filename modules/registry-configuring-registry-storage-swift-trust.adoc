// Module included in the following assemblies:
//
// * registry/installing-openstack- .adoc
// * registry/configuring-registry-operator.adoc
// * registry/configuring-registry-storage-openstack-user-infrastructure.adoc

[id="registry-configuring-registry-storage-swift-trust_{context}"]
= Configuring the Image Registry Operator to trust Swift storage

You must configure the Image Registry Operator to trust OpenStack Swift storage.

////
...to allow the client to pull the image layers from the image registry rather than from links directly from Swift.
////

.Procedure

* To configure the Image Registry Operator to trust OpenStack Swift storage, change the ____ field on the `config.imageregistry` object to `spec.disableRedirect: true`.

+
[source,terminal]
----
$ oc create configmap registry-config --from-file=<external_registry_address>=ca.crt -n openshift-config
----

[source,terminal]
----
oc edit image.config.openshift.io cluster
----

[source,yaml]
spec:
  additionalTrustedCA:
    name: registry-config
spec
  disableRedirect: true
----
